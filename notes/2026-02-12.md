# 2026-02-12

## UI param persistence and image URL fixes

- Added `persistSelectedParams` callback in App.jsx to save control-panel edits (prompt, steps, cfg, superres) back to the message when the user switches selections.
- Wired `onPersistSelectedParams` through OptionsPanel so edits are flushed on selection change.
- Swapped image URL priority in MessageBubble to prefer `serverImageUrl` over blob `imageUrl`.
- Sanitized `imageHistory` entries during load/save in useChatMessages â€” blob URLs stripped, server URLs promoted.
- Stopped history navigation (prev/next/latest) from overwriting message `params` and `meta`.
- Set `skipAutoSelect: true` unconditionally on generation submit.
